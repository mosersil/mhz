<div class="container bg-white rounded shadow p-4">

  <nav aria-label="breadcrumb" *ngIf="composition">
    <ol class="breadcrumb">
      <li class="breadcrumb-item" routerLink="/library">Bibliothek</li>
      <li class="breadcrumb-item" routerLink="/library/composition/{{composition.id}}">{{composition.title}}</li>
      <li class="breadcrumb-item active" routerLink="/library/composition/edit/{{composition.id}}" aria-current="page">Bearbeiten</li>

    </ol>
  </nav>

  <form [formGroup]="myForm" (ngSubmit)="submitForm()">


    <div class="form-group">
      <label for="input_id">Inventar-Nummer</label>
      <input id="input_id" class="form-control" formControlName="inventory" type="text">
    </div>
    <div class="form-group">
      <label for="input_title">Titel</label>
      <input id="input_title" class="form-control" formControlName="title" type="text"/>
    </div>
    <div class="form-group">
      <label for="input_subtitle">Untertitel</label>
      <input id="input_subtitle" class="form-control" formControlName="subtitle" type="text">
    </div>
    <div class="form-group">
      <label for="input_description">Beschreibung</label>
      <textarea id="input_description" class="form-control" formControlName="description" type="text"
                rows="4"></textarea>
    </div>


    <div class="form-group">
      <label for="fieldset_composers">Komponisten</label>
      <span (click)="addComposerControl()" class="fa fa-plus fa-lg pull-right" aria-hidden="true"></span>
      <fieldset id="fieldset_composers" formArrayName="composers">
        <div class="form-group">
          <input class="form-control" type="text" *ngFor="let c of myForm.get('composers').controls; index as i"
                 [formControlName]="i" list="composerlist">

          <datalist id="composerlist">
            <option *ngFor="let c of composer_list" [value]="c.name"></option>
          </datalist>
        </div>
      </fieldset>
    </div>


    <div class="form-group">
      <label for="fieldset_composers">Arrangeure</label>
      <span (click)="addArrangerControl()" class="fa fa-plus fa-lg pull-right" aria-hidden="true"></span>
      <fieldset id="fieldset_arrangers" formArrayName="arrangers">
        <div class="form-group">
          <input class="form-control" type="text" *ngFor="let c of myForm.get('arrangers').controls; index as i"
                 [formControlName]="i" list="arrangerlist">

          <datalist id="arrangerlist">
            <option *ngFor="let c of composer_list" [value]="c.name"></option>
          </datalist>
        </div>
      </fieldset>
    </div>



    <div class="form-group">
      <label for="list_sheets">Noten</label>
      <span (click)="addSheet()" class="fa fa-plus fa-lg pull-right" aria-hidden="true"></span>
      <fieldset id="list_sheets" formArrayName="sheets">
        <!--
        <input class="form-control" type="text" *ngFor="let c of myForm.get('sheets').controls; index as i"
               [formControlName]="i">
               -->

        <div id="list_existingsheets" class="list-group" *ngFor="let s of composition.sheets">
          <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            {{s.title}} <i class="fa fa-trash" aria-hidden="true"></i>
          </div>
        </div>

        <!--
        <div id="list_newsheets" class="list-group" *ngFor="let f of files">
          <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            {{s.title}} <i class="fa fa-trash" aria-hidden="true"></i>
          </div>
        </div>
        -->

      </fieldset>

    </div>

      <div class="form-group">
        <input type="file"
               #file
               (change)="onFileAdded()"
        >
      </div>

    <button type="submit" class="btn btn-primary">Speichern</button>
    <button type="reset" class="btn btn-primary">Abbrechen</button>

  </form>

</div>
